
<h2 class="view-heading">Search Customers</h2>


<div class="panel panel-default">

    <div class="panel-title">

    </div>

    <div class="panel-body">
        <div class="form-horizontal padtop_30 padbot_15">

            <div class="row">
                <div class="col-sm-8 form-group">
                    <label for="customerId" class="control-label col-sm-3">Customer Id</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control customerId-text"
                               id="customerId"
                               name="customerId"
                               ng-enter="viewModel.search()"
                               ng-model="viewModel.customerId" />
                    </div>
                </div>
                <div class="col-sm-8" ng-if="viewModel.searchCompleted">
                    <label for="salesorder_id" class="control-label col-sm-3">&nbsp;</label>

                    <div class="col-sm-8 alert alert-info marbot0" ng-if="!viewModel.response.status">
                        No record found for provided Customer Id.
                    </div>
                    <div class="col-sm-8 alert alert-success marbot0" ng-if="viewModel.response.status">
                        Below is the link of searched record: <br />
    
                        <a ng-href="{{viewModel.navigateUrl}}" target="_blank">
                            <span ng-bind="viewModel.navigateUrl"></span>
                        </a>
    
                    </div>
                </div>
                <div class="col-sm-8">
                    <label for="salesorder_id" class="control-label col-sm-3">&nbsp;</label>
					<div class="col-sm-9 padleft_0">
                        <button type="button" ng-click="viewModel.search()" class="btn btn-primary btn-submit">Go <!--<i class="fa fa-arrow-right"></i>--></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>










<div class="panel panel-default">
    <div class="panel-heading">
        <i class="icon-users padright_10"></i>Recent Customers
          &nbsp; &nbsp;
        <a ng-click="viewModel.customers.loadData()" href="javascript:;">
            <i class="sidebar-icon icon-refresh f20" ng-class="{'fa-spin': viewModel.customers.loading }"></i>
        </a>

    </div>
    <div class="panel-body">
                  
        <div ng-show="viewModel.customers.hasData">
            <div class=table-responsive>
                <table class="table ">
                    <thead>
                        <tr>
                            <th>NS Internal Id</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Last Modified Date</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in viewModel.customers.data">
                            <td>
                                <a ng-href="/app/common/entity/custjob.nl?id={{ item.id }}" target="_blank">
                                    {{ item.id }}
                                </a>
                            </td>
                            <td>{{ item.isperson ? (item.firstname + ' ' + item.lastname) : item.companyname }}</td>
                            <td>{{ item.email }}</td>
                            <td>{{ item.lastmodifieddate }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div ng-hide="viewModel.customers.hasData" class="alert alert-info">
            no records found.
        </div>

    </div>
</div>

